<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Source: permission.js</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <script src="scripts/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/jaguar.css">
    
    
    <script>
    var config = {"monospaceLinks":false,"cleverLinks":false,"default":{"outputSourceFiles":true}};
    </script>
    

    
</head>
<body>
<div id="wrap" class="clearfix">
    
<div class="navigation">
    <h3 class="applicationName"><a href="index.html"></a></h3>

    <div class="search">
        <input id="search" type="text" class="form-control input-sm" placeholder="Search Documentations">
    </div>
    <ul class="list">
    
        <li class="item" data-name="Base">
            <span class="title">
                <a href="Base.html">Base</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Base#getName"><a href="Base.html#getName">getName</a></li>
            
                <li data-name="Base#getRBAC"><a href="Base.html#getRBAC">getRBAC</a></li>
            
                <li data-name="Base#getScope"><a href="Base.html#getScope">getScope</a></li>
            
                <li data-name="Base#hasSameRBAC"><a href="Base.html#hasSameRBAC">hasSameRBAC</a></li>
            
                <li data-name="Base#remove"><a href="Base.html#remove">remove</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Permission">
            <span class="title">
                <a href="Permission.html">Permission</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Permission.createName"><a href="Permission.html#createName">createName</a></li>
            
                <li data-name="Permission.isValidName"><a href="Permission.html#isValidName">isValidName</a></li>
            
                <li data-name="Permission#can"><a href="Permission.html#can">can</a></li>
            
                <li data-name="Permission#getAction"><a href="Permission.html#getAction">getAction</a></li>
            
                <li data-name="Permission#getName"><a href="Permission.html#getName">getName</a></li>
            
                <li data-name="Permission#getRBAC"><a href="Permission.html#getRBAC">getRBAC</a></li>
            
                <li data-name="Permission#getResource"><a href="Permission.html#getResource">getResource</a></li>
            
                <li data-name="Permission#getScope"><a href="Permission.html#getScope">getScope</a></li>
            
                <li data-name="Permission#hasSameRBAC"><a href="Permission.html#hasSameRBAC">hasSameRBAC</a></li>
            
                <li data-name="Permission#remove"><a href="Permission.html#remove">remove</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="RBAC">
            <span class="title">
                <a href="RBAC.html">RBAC</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="RBAC.permissionsFromObject"><a href="RBAC.html#permissionsFromObject">permissionsFromObject</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="RBAC.getPermissionNames"><a href="RBAC.html#getPermissionNames">getPermissionNames</a></li>
            
                <li data-name="RBAC#_traverseGrants"><a href="RBAC.html#_traverseGrants">_traverseGrants</a></li>
            
                <li data-name="RBAC#add"><a href="RBAC.html#add">add</a></li>
            
                <li data-name="RBAC#can"><a href="RBAC.html#can">can</a></li>
            
                <li data-name="RBAC#canAll"><a href="RBAC.html#canAll">canAll</a></li>
            
                <li data-name="RBAC#canAny"><a href="RBAC.html#canAny">canAny</a></li>
            
                <li data-name="RBAC#create"><a href="RBAC.html#create">create</a></li>
            
                <li data-name="RBAC#createPermission"><a href="RBAC.html#createPermission">createPermission</a></li>
            
                <li data-name="RBAC#createPermissions"><a href="RBAC.html#createPermissions">createPermissions</a></li>
            
                <li data-name="RBAC#createRole"><a href="RBAC.html#createRole">createRole</a></li>
            
                <li data-name="RBAC#createRoles"><a href="RBAC.html#createRoles">createRoles</a></li>
            
                <li data-name="RBAC#exists"><a href="RBAC.html#exists">exists</a></li>
            
                <li data-name="RBAC#get"><a href="RBAC.html#get">get</a></li>
            
                <li data-name="RBAC#getPermission"><a href="RBAC.html#getPermission">getPermission</a></li>
            
                <li data-name="RBAC#getPermissions"><a href="RBAC.html#getPermissions">getPermissions</a></li>
            
                <li data-name="RBAC#getRole"><a href="RBAC.html#getRole">getRole</a></li>
            
                <li data-name="RBAC#getRoles"><a href="RBAC.html#getRoles">getRoles</a></li>
            
                <li data-name="RBAC#getScope"><a href="RBAC.html#getScope">getScope</a></li>
            
                <li data-name="RBAC#getStorage"><a href="RBAC.html#getStorage">getStorage</a></li>
            
                <li data-name="RBAC#grants"><a href="RBAC.html#grants">grants</a></li>
            
                <li data-name="RBAC#hasRole"><a href="RBAC.html#hasRole">hasRole</a></li>
            
                <li data-name="RBAC#remove"><a href="RBAC.html#remove">remove</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Role">
            <span class="title">
                <a href="Role.html">Role</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Role#can"><a href="Role.html#can">can</a></li>
            
                <li data-name="Role#canAll"><a href="Role.html#canAll">canAll</a></li>
            
                <li data-name="Role#canAny"><a href="Role.html#canAny">canAny</a></li>
            
                <li data-name="Role#getName"><a href="Role.html#getName">getName</a></li>
            
                <li data-name="Role#getRBAC"><a href="Role.html#getRBAC">getRBAC</a></li>
            
                <li data-name="Role#getScope"><a href="Role.html#getScope">getScope</a></li>
            
                <li data-name="Role#grant"><a href="Role.html#grant">grant</a></li>
            
                <li data-name="Role#hasRole"><a href="Role.html#hasRole">hasRole</a></li>
            
                <li data-name="Role#hasSameRBAC"><a href="Role.html#hasSameRBAC">hasSameRBAC</a></li>
            
                <li data-name="Role#remove"><a href="Role.html#remove">remove</a></li>
            
                <li data-name="Role#revoke"><a href="Role.html#revoke">revoke</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
    </ul>
</div>
    <div class="main">
        <h1 class="page-title" data-filename="permission.js.html">Source: permission.js</h1>
        


    
    <section>
        <article>
            <pre class="prettyprint source"><code>'use strict';

var util = require("util"),
	Base = require("./base");

/**
 * @constructor
 * @extends {Base}
 */
function Permission(rbac, action, resource, cb) {
	if(!action || !resource) {
		return cb(new Error('One of parameters is undefined'));
	}

	if(!Permission.isValidName(action) || !Permission.isValidName(resource)) {
		return cb(new Error('Action or resource has no valid name'));
	}

	this._action = action;
	this._resource = resource;

	Base.call(this, rbac, Permission.createName(action, resource), cb);
}

util.inherits(Permission, Base);

/**
 * Get action name of actual permission
 * @return {String} Action of permission
 */
Permission.prototype.getAction = function() {
	return this._action;
};

/**
 * Get resource name of actual permission
 * @return {String} Resource of permission
 */
Permission.prototype.getResource = function() {
	return this._resource;
};

/**
 * Return true if has same action and resource
 * @param  {String}  action   Name of action
 * @param  {String}  resource Name of resource
 * @return {Boolean}          
 */
Permission.prototype.can = function(action, resource) {
	return (this._action === action && this._resource === resource);
};

/**
 * Compute name of permission from action and resource
 * @param  {String} action   Name of permission
 * @param  {String} resource Resource of permission
 * @return {String}          Computed name of permission
 */
Permission.createName = function(action, resource) {
	return action + '_' + resource;
};

/**
 * Correct name can contain only alphanumeric characters
 * @param  {String}  name Name
 * @return {Boolean}      
 */
Permission.isValidName = function(name) {
	if (/^[a-zA-Z0-9]+$/.test(name)) {
		return true;
	}

	return false;
};

module.exports = Permission;</code></pre>
        </article>
    </section>





        

        <footer>
            Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a> on Tue May 13 2014 13:37:43 GMT+0200 (CEST)
        </footer>
    </div>
</div>
<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
<script src="scripts/main.js"></script>
</body>
</html>
